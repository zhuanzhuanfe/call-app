<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"index.html":{"id":"index.html","title":"Index","body":" Documentation ç®€ä»‹ @zz-common/call-app æ˜¯ä¸€ä¸ªåŸºäº typescript å¼€å‘çš„é€šç”¨çš„å”¤èµ· app çš„ sdk, ç›®å‰å…¼å®¹è½¬è½¬/æ‰¾é“æœº/é‡‡è´§ä¾  app, å…¼å®¹ä¸»æµæµè§ˆå™¨ã€webviewï¼Œå¹¶æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å”¤èµ·é…ç½®ã€‚ å¿«é€Ÿä¸Šæ‰‹ Step1ï¼šå®‰è£… é€šè¿‡ npm å®‰è£… npm i @zz-common/call-app -S Step2ï¼šå¼•å…¥ import CallApp from '@zz-common/call-app' å¦‚æœæ˜¯é€šè¿‡å¤–é“¾ js å¼•å…¥ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ window.CallApp å¾—åˆ° CallApp ç±» Step3ï¼šä½¿ç”¨ å®ä¾‹åŒ– CallApp åï¼Œå³å¯ä½¿ç”¨ start å’Œ download æ–¹æ³•. // å®ä¾‹åŒ– const callApp = new CallApp({ path: '', // è¦å”¤èµ·ç›®æ ‡ app çš„ path ï¼Œé»˜è®¤ç›®æ ‡appæ˜¯è½¬è½¬ }) // æ‰§è¡Œ å”¤èµ·æ–¹æ³• callApp.start() // æ‰§è¡Œ ä¸‹è½½ callApp.download() æˆ–è€… // å®ä¾‹åŒ– const callApp = new CallApp() // æ‰§è¡Œ å”¤èµ·æ–¹æ³• callApp.start({ path: '', // è¦å”¤èµ·ç›®æ ‡ app çš„ path ï¼Œé»˜è®¤ç›®æ ‡appæ˜¯è½¬è½¬ }) // æ‰§è¡Œ ä¸‹è½½ callApp.download() å‚æ•°é…ç½®é¡¹ path String è°ƒèµ· app æ—¶ï¼Œé»˜è®¤æ‰“å¼€çš„é¡µé¢ï¼Œç±»å‹ä¸º app çš„ç»Ÿè·³åœ°å€ channelId String æ¸ é“å·ï¼Œå¯é€‰ï¼Œå½“ç”¨æˆ·æ²¡æœ‰å®‰è£… app æ—¶ï¼Œé»˜è®¤ä¸‹è½½çš„æ¸ é“å·ï¼Œå®‰å“æ”¯æŒï¼ŒiOS ä¸æ”¯æŒï¼Œé»˜è®¤923ï¼ˆé€‰å¡«ï¼‰ targetApp String è°ƒèµ·çš„ç›®æ ‡ appï¼Œä¼˜å…ˆçº§é«˜äº path çš„ prefixï¼Œå…¶ä¸­ï¼šzz(ä»£è¡¨è½¬è½¬app), zlj(ä»£è¡¨æ‰¾é“æœºapp), zzHunter(ä»£è¡¨é‡‡è´§ä¾ app), zzSeller(ä»£è¡¨è½¬è½¬å–å®¶ç‰ˆã€å·²åºŸå¼ƒ), wxMini(ä»£è¡¨å¾®ä¿¡å°ç¨‹åºã€æœªæ”¯æŒ)ï¼Œé»˜è®¤ä¸ºzz ï¼ˆé€‰å¡«ï¼‰ universal Boolean æ˜¯å¦å¼€å¯é€šç”¨é“¾æ¥è°ƒèµ·æ¨¡å¼ï¼Œé»˜è®¤ä¸ºtrue download Boolean æ˜¯å¦ä¼šè‡ªåŠ¨è·³è½¬ä¸‹è½½é¡µé¢ï¼Œé»˜è®¤ä¸º true middleWareUrl String ä¸­è½¬ urlï¼Œå¦‚ä¸ºç©ºåˆ™é»˜è®¤è·³è½¬ä¸‹è½½å®‰è£…åŒ…æˆ– appstore delay Number è°ƒèµ·appå¤±è´¥åè§¦å‘ä¸‹è½½å»¶è¿Ÿ, é»˜è®¤ 2500ï¼ˆæ¯«ç§’ï¼‰ callStart Function å¼€å§‹æ‰§è¡Œè°ƒèµ·æ—¶çš„hook callSuccess Function æ‰§è¡Œè°ƒèµ·æˆåŠŸæ—¶çš„hook callFailed Function æ‰§è¡Œè°ƒèµ·å¤±è´¥æ—¶çš„hook callDownload Function æ‰§è¡Œä¸‹è½½æ—¶çš„hook callError Function å†…éƒ¨å¼‚å¸¸æ—¶çš„hook urlSearch Object [å·²åºŸå¼ƒ] æŒ‡å®šé¡µé¢è°ƒèµ·æ–¹å¼ï¼Œä¸æ¨èï¼Œç›´æ¥è®¾ç½® path æ¥è·³è½¬å³å¯ openType String é¡µé¢ç±»å‹ï¼Œå¯é€‰å€¼ä¸º homeé¦–é¡µï¼ˆé»˜è®¤ï¼‰ï¼Œdetailè¯¦æƒ…é¡µï¼Œorderè®¢å•ï¼Œmysellæˆ‘å–å‡ºçš„ï¼Œpersonä¸ªäººä¸­å¿ƒï¼Œvillageå°åŒºï¼Œwebé¡µé¢ id String å­˜æ”¾ id æˆ–è€… urlï¼Œé…åˆopenType çš„å€¼æ¥ç”¨ onWechatReady Function å¾®ä¿¡ç«¯sdkåˆå§‹åŒ–æˆåŠŸåçš„å›è°ƒ customConfig Object ç”¨æˆ·å®šä¹‰é…ç½®é¡¹, é«˜é˜¶é…ç½®ï¼Œç”¨æ³•å¯å‚è€ƒä¸‹é¢ç¤ºä¾‹ schemeUrl String scheme uri åœ°å€ downloadConfig Object ä¸‹è½½é…ç½®ï¼Œå¯é€‰ï¼Œä¸ä¼ åˆ™é‡‡ç”¨ landingPage ios String app-store é“¾æ¥ android String apkä¸‹è½½é“¾æ¥ android_yyb String åº”ç”¨å® ä¸‹è½½é“¾æ¥ universalLink String universal-linké“¾æ¥ï¼Œå¯é€‰ï¼Œios ä¼šä¼˜å…ˆé‡‡ç”¨ universal-link landingPage String å”¤èµ·å¤±è´¥è½åœ°é¡µï¼Œä¸€èˆ¬æ˜¯ä¸‹è½½ä¸­é—´é¡µï¼Œä¼˜å…ˆçº§é«˜äº downloadConfig api æ–¹æ³• start Function å”¤èµ·åŠŸèƒ½ // æŒ‚åœ¨CallAppå®ä¾‹ä¸Šçš„æ–¹æ³• // options å¯é€‰ é…ç½®åŒä¸Š const callApp = new CallApp() callApp.download(options) download Function ä¸‹è½½åŠŸèƒ½ // æŒ‚åœ¨CallAppå®ä¾‹ä¸Šçš„æ–¹æ³• // options å¯é€‰ é…ç½®åŒä¸Š const callApp = new CallApp() callApp.download(options) ç¤ºä¾‹ç”¨æ³• 1. åˆå§‹åŒ–å®ä¾‹æ—¶é…ç½® optionsï¼Œå”¤èµ· è½¬è½¬/æ‰¾é“æœº // å”¤èµ· è½¬è½¬ const callApp = new CallApp({ path: 'jump/shortVideo/videoHome/jump', // path: 'zhuanzhuan://jump/shortVideo/videoHome/jump', // å¸¦ prefix çš„äº¦å¯ channelId: '', // æ¸ é“id deeplinkId: '', // åå°é…ç½®é¡¹ // targetApp å‚æ•°ä¼˜å…ˆçº§é«˜äº path çš„ prefix // zlj ä»£è¡¨æ‰¾é“æœº; zz æˆ–è€… zhuanzhuan ä»£è¡¨è½¬è½¬ï¼Œ zzHunter ä»£è¡¨é‡‡è´§ä¾ ï¼Œé»˜è®¤ zz targetApp: 'zz', callStart: () =&gt; { console.log('è§¦å‘ å¼€å§‹å”¤èµ·é’©å­') }, callSuccess: () =&gt; { console.log('è§¦å‘ å”¤èµ·æˆåŠŸé’©å­') }, callFailed: () =&gt; { console.log('è§¦å‘ å”¤èµ·å¤±è´¥é’©å­') }, callDownload: () =&gt; { console.log('è§¦å‘ ä¸‹è½½é’©å­') }, callError: () =&gt; { console.log('å†…éƒ¨å¼‚å¸¸') }, }) // æ‰§è¡Œå”¤èµ· callApp.start() // æ‰§è¡Œä¸‹è½½ callApp.download() // å”¤èµ· æ‰¾é“æœº const callApp = new CallApp({ path: 'native_api?type=132', // path: 'zljgo://native_api?type=132' targetApp: 'zlj', universal: false, // æ‰¾é“æœºç›®å‰è¿˜ä¸æ”¯æŒ universalLink callStart: () =&gt; { console.log('è§¦å‘ å¼€å§‹å”¤èµ·é’©å­') }, callSuccess: () =&gt; { console.log('è§¦å‘ å”¤èµ·æˆåŠŸé’©å­') }, callFailed: () =&gt; { console.log('è§¦å‘ å”¤èµ·å¤±è´¥é’©å­') }, callDownload: () =&gt; { console.log('è§¦å‘ ä¸‹è½½é’©å­') }, callError: () =&gt; { console.log('å†…éƒ¨å¼‚å¸¸') }, }) // æ‰§è¡Œå”¤èµ· callApp.start() // æ‰§è¡Œä¸‹è½½ callApp.download() 2. è°ƒç”¨ api æ—¶é…ç½® options, å”¤èµ· è½¬è½¬/æ‰¾é“æœº è¯¥ç”¨æ³•ä¸º å®ä¾‹åŒ–CallAppç±»ä¸€æ¬¡ï¼Œé€šè¿‡ api æ¥é…ç½® optionsï¼Œè¿›è¡Œæ‰§è¡Œã€‚ æ­¤ä¸€èˆ¬ç”¨äºè¾ƒå¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œé¿å…å¤šæ¬¡å®ä¾‹åŒ–è€Œé€ æˆå†…å­˜æµªè´¹ã€‚ // å®ä¾‹åŒ–ä¸€æ¬¡ const callApp = new CallApp() // åœ¨æ–¹æ³•å†…è¿›è¡Œå‚æ•°é…ç½® // å”¤èµ·è½¬è½¬ callApp.start({ path: 'jump/shortVideo/videoHome/jump', channelId: '', deeplinkId: '', }) // å”¤èµ·æ‰¾é“æœº callApp.start({ path: 'native_api?type=132', // path: 'zljgo://native_api?type=132', targetApp: 'zlj', universal: false, // æ‰¾é“æœºç›®å‰è¿˜ä¸æ”¯æŒ universalLink }) // ä¸‹è½½è½¬è½¬ callApp.download({ targetApp: 'zz', channelId: '', deeplinkId: '' }) // ä¸‹è½½æ‰¾é“æœº callApp.download({ targetApp: 'zlj', }) 3. ç¬¬ä¸‰æ–¹é…ç½®ï¼ˆé«˜é˜¶ï¼‰ âš ï¸ æ³¨æ„ï¼š 3-1. å¦‚æœé…ç½®äº† customConfig å‚æ•°ï¼Œåˆ™é hooks å‚æ•°ï¼ˆå¦‚ pathï¼ŒtargetApp ç­‰ï¼‰çš„é…ç½®ä¸å†ç”Ÿæ•ˆã€‚ 3-2 landingPage é…ç½®å‚æ•°ä¼˜å…ˆçº§å¤§äº downloadConfig 3-3 å¦‚æœæ²¡æœ‰é…ç½® universalLink åˆ™ ios ç«¯é™çº§ä¸º schemeUrl // å”¤èµ·æ”¯ä»˜å® const callApp = new CallApp({ customConfig: { schemeUrl: 'alipay://platformapi/startapp?appId=20000056', // æ”¯ä»˜å®è½¬è´¦ landingPage: 'https://render.alipay.com/p/s/i', // æ”¯ä»˜å®è½åœ°é¡µï¼ˆä¸‹è½½é¡µï¼‰ }, callStart: () =&gt; { console.log('è§¦å‘ å¼€å§‹å”¤èµ·é’©å­') }, callSuccess: () =&gt; { console.log('è§¦å‘ å”¤èµ·æˆåŠŸé’©å­') }, callFailed: () =&gt; { console.log('è§¦å‘ å”¤èµ·å¤±è´¥é’©å­') }, }) callApp.start() å…¼å®¹æ€§ ğŸ˜ˆ H5 ios: [iphoneXR] ç¯å¢ƒ ä¸‹è½½ scheme/ulink å”¤èµ·(å·²è£… app) å¤±è´¥å›è°ƒ(å·²è£… app) æˆåŠŸå›è°ƒ(å·²è£… app) å¤±è´¥å›è°ƒ(æœªè£… app) safari æ”¯æŒ location ulink æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ ulinkä¸æ”¯æŒ qq æµè§ˆå™¨ æ”¯æŒ location ulink æ”¯æŒ æ”¯æŒ æ”¯æŒ ulinkä¸æ”¯æŒ uc æµè§ˆå™¨ æ”¯æŒ location ulink æ”¯æŒ æ”¯æŒ ulinkæ”¯æŒ, scheme ä¸æ”¯æŒ ulinkä¸æ”¯æŒ ç™¾åº¦æµè§ˆå™¨ æ”¯æŒ location ulink æ”¯æŒ, scheme ä¸æ”¯æŒ æ”¯æŒ ulinkæ”¯æŒ scheme ä¸æ”¯æŒ ulinkä¸æ”¯æŒ å¤¸å…‹æµè§ˆå™¨ æ”¯æŒ iFrame ä¸æ”¯æŒ ulinkï¼Œæ”¯æŒ scheme æ”¯æŒ æ”¯æŒ æ”¯æŒ è°·æ­Œæµè§ˆå™¨ æ”¯æŒ location ulink æ”¯æŒ æ”¯æŒ æ”¯æŒ ulinkä¸æ”¯æŒ sougou æµè§ˆå™¨ ä¸æ”¯æŒ ulink æ”¯æŒ æ”¯æŒ æ”¯æŒ ulinkä¸æ”¯æŒ wx æ”¯æŒï¼Œåº”ç”¨å® ulink æ”¯æŒ, scheme ä¸æ”¯æŒ æ”¯æŒ æ”¯æŒ ulinkä¸æ”¯æŒ weibo ä¸æ”¯æŒ ulink æ”¯æŒ, scheme ä¸æ”¯æŒ æ”¯æŒ ulinkæ”¯æŒ,scheme ä¸æ”¯æŒ ulinkä¸æ”¯æŒ qq æ”¯æŒ, åº”ç”¨å® ulink æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ android: [huawei-p30] ç¯å¢ƒ ä¸‹è½½ scheme å”¤èµ·(å·²è£… app) å¤±è´¥å›è°ƒ(å·²è£… app) æˆåŠŸå›è°ƒ(å·²è£… app) å¤±è´¥å›è°ƒ(æœªè£… app) qq æµè§ˆå™¨ æ”¯æŒ location æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ uc æµè§ˆå™¨ æ”¯æŒ tagA æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ ç™¾åº¦æµè§ˆå™¨ æ”¯æŒ location ä¸æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ å¤¸å…‹æµè§ˆå™¨ æ”¯æŒ location æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ sougou æµè§ˆå™¨ æ”¯æŒ location æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ 360 æµè§ˆå™¨ æ”¯æŒ location æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ åä¸ºæµè§ˆå™¨ æ”¯æŒ location æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ wx æ”¯æŒï¼Œåº”ç”¨å® ä¸æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ weibo ä¸æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ qq æ”¯æŒ, åº”ç”¨å® æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ android: [mi-9] ç¯å¢ƒ ä¸‹è½½ scheme å”¤èµ·(å·²è£… app) å¤±è´¥å›è°ƒ(å·²è£… app) æˆåŠŸå›è°ƒ(å·²è£… app) å¤±è´¥å›è°ƒ(æœªè£… app) qq æµè§ˆå™¨ æ”¯æŒ location æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ uc æµè§ˆå™¨ æ”¯æŒ tagA æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ ç™¾åº¦æµè§ˆå™¨ æ”¯æŒ location ä¸æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ å¤¸å…‹æµè§ˆå™¨ æ”¯æŒ location æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ 360 æµè§ˆå™¨ æ”¯æŒ location æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ å°ç±³æµè§ˆå™¨ æ”¯æŒ location æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ wx æ”¯æŒï¼Œåº”ç”¨å® ä¸æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ weibo ä¸æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ æ”¯æŒ qq æ”¯æŒï¼Œåº”ç”¨å® æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ native sdk ios / android è½¬è½¬ é‡‡è´§ä¾  æ‰¾é“æœº å–å®¶ç‰ˆ 58app å¾®ä¿¡ ç›®æ ‡app: è½¬è½¬ x âœ… - âœ… âœ… âœ… ç›®æ ‡app: é‡‡è´§ä¾  âœ… x x x x x ç›®æ ‡app: æ‰¾é“æœº - x x x x x ç›®æ ‡app: é‡‡è´§ä¾  âœ… x x x x x Todo: [] æ”¯æŒæ‰¾é“æœºappã€è½¬è½¬app å†…äº’ç›¸è°ƒèµ· [] æ‰¾é“æœºæ”¯æŒ universalLink [] æ”¯æŒè½¬è½¬appå†…å”¤èµ·è½¬è½¬å¾®ä¿¡å°ç¨‹åº Bug or PR æäº¤ Issues æäº¤ PR Feature [] æ”¯æŒé…ç½®ä¸­å¿ƒ æœªæ¥æœ‰éœ€è¦å¯ä»¥å¼•å…¥é…ç½®ä¸­å¿ƒçš„æ¦‚å¿µï¼Œæ–¹ä¾¿å¯¹ç›®æ ‡appè¿›è¡Œç»Ÿä¸€é…ç½®ç®¡ç†ï¼Œæ–¹ä¾¿æ–°å¢/ç§»é™¤ç›®æ ‡appé€»è¾‘ [] æ”¯æŒandroid intent åè®®ï¼Œä»¥åŠé¢å‘æœªæ¥çš„ deferAppLinks ç›®å‰æ­¤æ–¹æ¡ˆå…¼å®¹æ€§å·®ï¼ˆåªæœ‰chromeæ”¯æŒ)ï¼Œæš‚ä¸”èˆå¼ƒ Ã— Search results Close Documentation generated by JSDoc 3.6.7 on 2021-08-20T11:32:33+08:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
